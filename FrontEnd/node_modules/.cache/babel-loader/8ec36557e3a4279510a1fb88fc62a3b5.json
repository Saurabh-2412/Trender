{"ast":null,"code":"var _jsxFileName = \"E:\\\\NeogCampProjects\\\\LevelOneProjects\\\\Social-Media\\\\social-media-app\\\\src\\\\features\\\\user\\\\UserPost.js\",\n    _s = $RefreshSig$();\n\nimport { unwrapResult } from \"@reduxjs/toolkit\";\nimport React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { PostBody } from \"../../features/posts/PostBody\";\nimport { getUserPost } from \"../../features/posts/postSlice\";\nimport { orderPostByDate } from \"../../features/Utils/OrderedPostByDate\";\nimport { toastError } from \"../../features/Utils/ToastMessages\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const UserPost = () => {\n  _s();\n\n  const [status, setStatus] = useState(\"idle\");\n  const {\n    user\n  } = useSelector(state => state.user);\n  const {\n    posts\n  } = useSelector(state => state.posts);\n  const {\n    token\n  } = useSelector(state => state.auth);\n  const orderedPost = orderPostByDate(posts);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (token) {\n      (async () => {\n        try {\n          setStatus(\"pending\");\n          const result = await dispatch(getUserPost(user._id));\n          unwrapResult(result);\n          setStatus(\"success\");\n        } catch (error) {\n          console.log(error);\n          toastError(\"Something went wrong, cannot load post\");\n          setStatus(\"idle\");\n        }\n      })();\n    }\n  }, [dispatch, user._id, token]);\n  let renderContent = posts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center\",\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"p-2\",\n      children: \"No posts Found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this) : React.Children.toArray(orderedPost === null || orderedPost === void 0 ? void 0 : orderedPost.map(post => /*#__PURE__*/_jsxDEV(PostBody, {\n    post: post\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 38\n  }, this)));\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: status === \"success\" && renderContent\n  }, void 0, false);\n};\n\n_s(UserPost, \"lNhK5pPAwx9Ew0fYWeO8wxBQhRY=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch];\n});\n\n_c = UserPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserPost\");","map":{"version":3,"sources":["E:/NeogCampProjects/LevelOneProjects/Social-Media/social-media-app/src/features/user/UserPost.js"],"names":["unwrapResult","React","useState","useEffect","useDispatch","useSelector","PostBody","getUserPost","orderPostByDate","toastError","UserPost","status","setStatus","user","state","posts","token","auth","orderedPost","dispatch","result","_id","error","console","log","renderContent","length","Children","toArray","map","post"],"mappings":";;;AAAA,SAASA,YAAT,QAA6B,kBAA7B;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,QAAT,QAAyB,+BAAzB;AACA,SAASC,WAAT,QAA4B,gCAA5B;AACA,SAASC,eAAT,QAAgC,wCAAhC;AACA,SAASC,UAAT,QAA2B,oCAA3B;;;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AAC5B,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAC,MAAD,CAApC;AACA,QAAM;AAAEW,IAAAA;AAAF,MAAWR,WAAW,CAAES,KAAD,IAAWA,KAAK,CAACD,IAAlB,CAA5B;AACA,QAAM;AAAEE,IAAAA;AAAF,MAAYV,WAAW,CAAES,KAAD,IAAWA,KAAK,CAACC,KAAlB,CAA7B;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAYX,WAAW,CAAES,KAAD,IAAWA,KAAK,CAACG,IAAlB,CAA7B;AACA,QAAMC,WAAW,GAAGV,eAAe,CAACO,KAAD,CAAnC;AACA,QAAMI,QAAQ,GAAGf,WAAW,EAA5B;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIa,KAAJ,EAAW;AACT,OAAC,YAAY;AACX,YAAI;AACFJ,UAAAA,SAAS,CAAC,SAAD,CAAT;AACA,gBAAMQ,MAAM,GAAG,MAAMD,QAAQ,CAACZ,WAAW,CAACM,IAAI,CAACQ,GAAN,CAAZ,CAA7B;AACArB,UAAAA,YAAY,CAACoB,MAAD,CAAZ;AACAR,UAAAA,SAAS,CAAC,SAAD,CAAT;AACD,SALD,CAKE,OAAOU,KAAP,EAAc;AACdC,UAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAb,UAAAA,UAAU,CAAC,wCAAD,CAAV;AACAG,UAAAA,SAAS,CAAC,MAAD,CAAT;AACD;AACF,OAXD;AAYD;AACF,GAfQ,EAeN,CAACO,QAAD,EAAWN,IAAI,CAACQ,GAAhB,EAAqBL,KAArB,CAfM,CAAT;AAiBE,MAAIS,aAAa,GACfV,KAAK,CAACW,MAAN,KAAiB,CAAjB,gBACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA,2BACE;AAAG,MAAA,SAAS,EAAC,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF,GAKEzB,KAAK,CAAC0B,QAAN,CAAeC,OAAf,CACEV,WADF,aACEA,WADF,uBACEA,WAAW,CAAEW,GAAb,CAAkBC,IAAD,iBAAU,QAAC,QAAD;AAAU,IAAA,IAAI,EAAEA;AAAhB;AAAA;AAAA;AAAA;AAAA,UAA3B,CADF,CANJ;AAWA,sBAAO;AAAA,cAAGnB,MAAM,KAAK,SAAX,IAAwBc;AAA3B,mBAAP;AACH,CArCM;;GAAMf,Q;UAEML,W,EACCA,W,EACAA,W,EAEDD,W;;;KANNM,Q","sourcesContent":["import { unwrapResult } from \"@reduxjs/toolkit\";\r\nimport React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { PostBody } from \"../../features/posts/PostBody\";\r\nimport { getUserPost } from \"../../features/posts/postSlice\";\r\nimport { orderPostByDate } from \"../../features/Utils/OrderedPostByDate\";\r\nimport { toastError } from \"../../features/Utils/ToastMessages\";\r\n\r\nexport const UserPost = () => {\r\n  const [status, setStatus] = useState(\"idle\");\r\n  const { user } = useSelector((state) => state.user);\r\n  const { posts } = useSelector((state) => state.posts);\r\n  const { token } = useSelector((state) => state.auth);\r\n  const orderedPost = orderPostByDate(posts);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      (async () => {\r\n        try {\r\n          setStatus(\"pending\");\r\n          const result = await dispatch(getUserPost(user._id));\r\n          unwrapResult(result);\r\n          setStatus(\"success\");\r\n        } catch (error) {\r\n          console.log(error);\r\n          toastError(\"Something went wrong, cannot load post\");\r\n          setStatus(\"idle\");\r\n        }\r\n      })();\r\n    }\r\n  }, [dispatch, user._id, token]);\r\n\r\n    let renderContent =\r\n      posts.length === 0 ? (\r\n        <div className=\"text-center\">\r\n          <p className=\"p-2\">No posts Found</p>\r\n        </div>\r\n      ) : (\r\n        React.Children.toArray(\r\n          orderedPost?.map((post) => <PostBody post={post} />)\r\n        )\r\n      );\r\n\r\n    return <>{status === \"success\" && renderContent}</>;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}